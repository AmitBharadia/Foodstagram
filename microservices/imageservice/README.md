# Image Service

## APIs usage

### POST /image/

Users with an account can upload a photo with description with it.

```
request_body = {
					"userid": <user_id>,
					"username": <user_name>,
					"description": <description about the picture>,
					"foodImage": <multipart image file>
			   }
```

RESPONSES

- HTTP 201 - Unmarshall the form data and upload it to AWS S3.
- HTTP 400 - Any invalid or missing field.

### GET /image/{id}

Get one image by providing image id

RESPONSE

```
response_body = {
		"Id": <uuid generated by the service>,
		"Description": <description about the picture>,
		"Url": <AWS S3 url of the file>,
		"UserId": <user_id>,
		"UserName": <user_name>,
		"Timestamp": <Timestamp when photo was saved in the system>
	}
```

### GET /image/

Access all images in system to display to all users as a backup API when timeline service fails

RESPONSE

```
response_body = {[
			"Id": <uuid generated by the service>,
			"Description": <description about the picture>,
			"Url": <AWS S3 url of the file>,
			"UserId": <user_id>,
			"UserName": <user_name>,
			"Timestamp": <Timestamp when photo was saved in the system>
		],
		[
			"Id": <uuid generated by the service>,
			"Description": <description about the picture>,
			"Url": <AWS S3 url of the file2>,
			"UserId": <user_id_2>,
			"UserName": <user_name_2>,
			"Timestamp": <Timestamp when photo was saved in the system>
		]
	}
```

### GET /user/{userId}

Get all the images posted by a single user

RESPONSE

```
response_body = {[
			"Id": <uuid generated by the service>,
			"Description": <description about the picture>,
			"Url": <AWS S3 url of the file1>,
			"UserId": <user_id_1>,
			"UserName": <user_name_1>,
			"Timestamp": <Timestamp when photo was saved in the system>
		],
		[
			"Id": <uuid generated by the service>,
			"Description": <description about the picture>,
			"Url": <AWS S3 url of the file2>,
			"UserId": <user_id_1>,
			"UserName": <user_name_1>,
			"Timestamp": <Timestamp when photo was saved in the system>
		]
}
```
